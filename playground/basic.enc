active class Main
  def main() : unit
    var truth = new Truth
    truth ! tell("c++ is a nice language")

    var bar = new Bar(5)
    globalFunction("Calling global function")
    
    val obj1 = new Foo
    obj1.setID("obj1")
    obj1.printID()

    var x, z = 1
    var y = x + 2
    let
      a = 42
      b = "foobar"
    in
      println("ayy")
    end 
  end
end

local class Bar
  var mVal : int
  def init(value : int) : unit
    this.mVal = value
  end
end

local class Foo
  var id : String

  def setID(new_id : String) : unit
    this.id = new_id
  end

  def printID() : unit
    var i = 0
    while i < 5 do
      i = i + 1
      println(this.id)
    end
  end
end

fun globalFunction(s: String) : unit
  println(s)
end

active class Truth
  def tell(s : String) : unit
    println(s)
  end
end
